---
layout: post
title: "Y3 Piff results"
date: 2016-06-15 00:00
comments: true
categories: models twin
---

### Method
#### Subjects
120 subjects participated.  99 female (mean age 26.9 years (SD = 12.37) and 21 male (mean age 29.86 (15.17)). A chance at three £20 prizes were offered for participation.

#### Measures
Socioeconomic status was measures using the Macarthur ladder (for family origins and self), as well as measures of housing, education, and professional status for the family.
Greed was assessed using Piff's (2012) greed scale (Piff_Greed), and also by a new scale designed by us for this project - EDI_greed, and a 1-week diary of greedy behaviors (EDI_greed_week)

Objective measures of greedy behavior were obtained in three tasks: the dice-report task developed by Piff, a job negotiation task, 
Piff_dictate, Piff_die_raffle, Piff_negotiate_one

Personality was also measured using the NEOFFIR.

#### Procedure.
Subjects completed all tests in Online...

### Analyses
*SES*
SES based on the subject's self-report ladder position (SESL), their ladder family origin score (SESOriginL), the number of bathrooms, ownership status of their parents house, what type of school they attended, their parental job status, and parental education. An SES score was generated for each subject by factor-analysis of these scales, with and subjects receiving a factor score for the first un-rotated factor in this analysis. This factor accounted for 36% of variance in the SES measures. Loadings of the 7 measures on the factor were 0.635  0.821  0.562 -0.588  0.682 -0.470  and 0.307.

*Greedy behavior*
Similarly, to facilitate testing the hypothesis that SES is associated with increased greed, we formed a factor from the three economic game behaviors: dictator sharing, negotiation honesty, and dice cheating (number reported above 12 (the true value)). This factor accounted for 34% of variance in the tests.


### Results

#### SES and unethical behavior
We tested the hypothesis, proposed by Piff, that SES would predict cheating on the dice-report task.

Regression model:
m1 = lm(PiffcheatRaffle  ~ gender + age + SES_factor, data = df); anova(m1)

There was no significant effect of SES on dice-score claims: β = 0.08 [-1.71, 1.88], t = 0.09, p = 0.927.

We next assessed whether Piff Greed scale scores predicted the greediness-tasks score (dice task, dictator game, and negotiation task factor score).

The model tested by multiple regression was  m1 = lm(unethical_factor ~ gender + age + SES_factor + PiffGreed, data = df); Anova(m1)
Piff Greed scores were significantly associated with economic game cheating (p=.01), but SES factor scores were not.

Response: unethical_factor
            Sum Sq  Df F value Pr(>F)  
gender       0.561   1  0.5747 0.4499  
age          0.003   1  0.0034 0.9536  
SES_factor   0.046   1  0.0474 0.8281  
PiffGreed    6.623   1  6.7876 0.0104 *
Residuals  111.244 114                 

To examine this in more detail, a structural model was build to test replicability of Piff's finding that SES effects on Greediness were mediated largely by greed scores. The model fit the data (χ²(350) = 0, p = 1.000; CFI = 1; TLI = 1; RMSEA = 0) but the effect of SES on Greed questionnaire was in the reverse direction to that predicted by Piff: acting to lower greed traits (See box and arrow diagram)

|name                                   | Std.Estimate| Std.SE|CI                   |
|:--------------------------------------|------------:|------:|:--------------------|
|PiffGreed_to_unethical_factor          |         0.23|   0.09|0.23 [0.06, 0.41]    |
|SES_factor_to_PiffGreed                |        -0.21|   0.09|-0.21 [-0.38, -0.04] |
|SES_factor_to_unethical_factor         |        -0.02|   0.09|-0.02 [-0.2, 0.16]   |
|PiffGreed_with_PiffGreed               |         0.96|   0.04|0.96 [0.88, 1.03]    |
|SES_factor_with_SES_factor             |         1.00|   0.00|1 [1, 1]             |
|unethical_factor_with_unethical_factor |         0.94|   0.04|0.94 [0.86, 1.02]    |



#### Behavioral Greed
We tested how the Piff greed scale related to self-report greedy behavior in a diary and the EDI_greed measure.
Piff_Greed 


```splus
library(paran)
library(umx)
library(car)
library(ggplot2)
library(visreg)
library(MASS)

# =================
# = Read the data =
# =================
fp = "~/Dropbox/current/a_teach/Y3/Y3 Project/2016 Piff/y3_2016_piff_data.xlsx"
df <- gdata::read.xls(fp, stringsAsFactors=F)
# "SID", "gender", "age"
neo   =  c("A", "C", "E", "N", "O")
SES_measures   = c("SESL", "SESOriginL", "SESparentBathrooms", "SESparentHouse", "SESparentSchool", "SESparentStatus", "SESparent_ed")
greed = c("PiffGreed", "EDIgreed_give", "EDIgreed_take", "behavior_give", "behavior_take")
games = c("dictator", "PiffcheatRaffle", "Piff_negotiation")

umx_aggregate(age ~ gender, data = df)
#                           age
# female (n = 99)  26.9 (12.37)
# male (n = 21)   29.86 (15.17)

# Factor analysis for SES and greedy economic behaviors
factOut = factanal(~ SESL + SESOriginL + SESparentBathrooms + SESparentHouse + SESparentSchool + SESparentStatus + SESparent_ed, 1, scores = "Bartlett", data = df, na.action = na.exclude)
df$SES_factor = as.numeric(factOut$scores)
factOut = factanal(~ dictator + PiffcheatRaffle + Piff_negotiation, 1, scores = "Bartlett", data = df, na.action = na.exclude)
df$unethical_factor = -as.numeric(factOut$scores) # reversed, as high scores on negotiate and dictator are ethical

m1 = lm(PiffcheatRaffle  ~ gender + age + SES_factor + PiffGreed, data = df); Anova(m1)
m1 = lm(unethical_factor ~ gender + age + SES_factor + PiffGreed, data = df); Anova(m1)
umxAPA(m1, digits = 3)
# Response: unethical_factor
#             Sum Sq  Df F value Pr(>F)
# gender       0.561   1  0.5747 0.4499
# age          0.003   1  0.0034 0.9536
# SES_factor   0.046   1  0.0474 0.8281
# PiffGreed    6.623   1  6.7876 0.0104 *
# Residuals  111.244 114

m2 = lm(unethical_factor ~ gender + age + PiffGreed, data = df); Anova(m1)
require(umx)
myData    = mxData(df, type = "raw")
m1 <- umxRAM("OneFactor", data = myData,
	umxPath("PiffGreed", to = "unethical_factor"),
	umxPath("SES_factor", to = c("PiffGreed", "unethical_factor")),
	umxPath(v.m. = c("PiffGreed",  "unethical_factor", "SES_factor"))
)
umxSummary(m1, showEstimates = "std")
plot(m1, showMeans=F)

m1 = lm(PiffGreed  ~ gender + age + SES_factor, data = df); Anova(m1)
# SES_factor β = -0.84 [-1.61, -0.06], t = -2.14, p = 0.035
# But... it's negative: richer folk are less greedy.
plot(PiffGreed ~ SES_factor, data = df)
qplot(SES_factor, PiffGreed, data = df) + stat_smooth(method = "lm")
visreg(m1)
umx_print(cor(df[,c("SES_factor", SES_measures)]), digits = 2)

# =================================================
# = Do our measures relate to Piffs Greed scales? =
# =================================================

greed = c("PiffGreed", "EDIgreed_give", "EDIgreed_take", "behavior_give", "behavior_take")

m1 = lm(PiffGreed  ~ gender + age + EDIgreed_give, data = df); Anova(m1)
umxAPA(m1, digits = 3) # EDIgreed_give β = -0.315 [-0.547, -0.083], t = -2.689, p = 0.008
m1 = lm(PiffGreed  ~ gender + age + EDIgreed_take, data = df); Anova(m1)
umxAPA(m1, digits = 3) # EDIgreed_take β = 0.586 [0.303, 0.87], t = 4.097, p < 0.001

# our scales correlated better with behavior diary reports
umx_print(cor(df[,greed]), digits=2)
# |              | PiffGreed| EDIgreed_give| EDIgreed_take| behavior_give| behavior_take|
# |:-------------|---------:|-------------:|-------------:|-------------:|-------------:|
# |PiffGreed     |      1.00|         -0.23|          0.30|          0.06|         -0.02|
# |EDIgreed_give |     -0.23|          1.00|         -0.29|         -0.19|         -0.10|
# |EDIgreed_take |      0.30|         -0.29|          1.00|          0.20|          0.32|
# |behavior_give |      0.06|         -0.19|          0.20|          1.00|         -0.13|
# |behavior_take |     -0.02|         -0.10|          0.32|         -0.13|          1.00|



# Stepwise Regression
m1 = lm(PiffGreed  ~ EDIgreed_give + EDIgreed_take + behavior_give + behavior_take, data = df); Anova(m1)
summary(m1) # Multiple R-squared:  0.13. So most of Piff greed is not what we think greed is/should be
mod_step <- MASS::stepAIC(m1, direction="both")
mod_step$anova # display results

# It would be good to do a factor analysis on the items of the Piff greed scale

```